<table>
  <thead>
    <tr>
      <th>Status</th>
      <th>Delivery date</th>
      <th>Basket</th>
      <th>Price</th>
      <th><%= farmer ? "Customer Name" : "Farmer Name" %></th>
      <th><%= farmer ? "Customer address" : "Farmer address" %></th>
    </tr>
  </thead>
  <tbody>
    <% subscriptions.each do |subscription| %>
      <tr>
        <td class="d-flex subscription-controls">
          <% if subscription.status == "pending" %>
            <%= link_to "Accept", subscription_path(subscription.id, 'subscription[status]' => "accepted" ), method: :patch %>
            <%= link_to "Decline", subscription_path(subscription.id,'subscription[status]' => "declined"), method: :patch %>
          <% elsif subscription.status == "accepted" %>
            <p>Accepted</p>
            <%= link_to "Cancel", subscription_path(subscription.id, 'subscription[status]' => "cancelled"), method: :patch %>
          <% end %>
        </td>
        <td><%= subscription.delivery_day %></td>
        <td><%= subscription.basket.title %></td>
        <td><%= subscription.basket.price %></td>
        <td><%= farmer ? subscription.user.full_name : subscription.basket.user.full_name %></td>
        <td><%= farmer ? subscription.user.address : subscription.basket.user.address %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%-# Accept and decline button.  %>
<%-# Accept=> accepted + cancel button %>
<%-# Decline=> declined %>
<%-#pertial: oerderlist into subscriptions page & dashboard page %>


